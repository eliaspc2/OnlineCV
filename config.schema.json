{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://example.com/json-site.schema.json",
  "title": "JSON Site Config",
  "type": "object",
  "required": ["meta", "pages"],
  "properties": {
    "meta": {
      "type": "object",
      "required": ["lang", "theme"],
      "properties": {
        "title": {"type": "string"},
        "titleKey": {"type": "string"},
        "lang": {"type": "string"},
        "description": {"type": "string"},
        "descriptionKey": {"type": "string"},
        "defaultLanguage": {"type": "string"},
        "theme": {
          "type": "object",
          "required": ["bg", "text", "muted", "accent"],
          "properties": {
            "bg": {"type": "string"},
            "text": {"type": "string"},
            "muted": {"type": "string"},
            "accent": {"type": "string"}
          },
          "additionalProperties": true
        },
        "languages": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["code", "label", "flag"],
            "properties": {
              "code": {"type": "string"},
              "label": {"type": "string"},
              "stringsFile": {"type": "string"},
              "flag": {"type": "string"}
            },
            "additionalProperties": true
          }
        }
        ,
        "favicon": {
          "type": "object",
          "properties": {
            "icon": {"type": "string"},
            "appleTouchIcon": {"type": "string"},
            "maskIcon": {"type": "string"},
            "color": {"type": "string"}
          },
          "additionalProperties": true
        },
        "pwa": {
          "type": "object",
          "properties": {
            "enabled": {"type": "boolean"},
            "name": {"type": "string"},
            "nameKey": {"type": "string"},
            "shortName": {"type": "string"},
            "shortNameKey": {"type": "string"},
            "description": {"type": "string"},
            "descriptionKey": {"type": "string"},
            "startUrl": {"type": "string"},
            "scope": {"type": "string"},
            "display": {"type": "string"},
            "orientation": {"type": "string"},
            "themeColor": {"type": "string"},
            "backgroundColor": {"type": "string"},
            "icons": {
              "type": "array",
              "items": {
                "type": "object",
                "required": ["src"],
                "properties": {
                  "src": {"type": "string"},
                  "sizes": {"type": "string"},
                  "type": {"type": "string"},
                  "purpose": {"type": "string"}
                },
                "additionalProperties": true
              }
            }
          },
          "additionalProperties": true
        }
      },
      "additionalProperties": true
    },
    "layout": {
      "type": "object",
      "properties": {
        "header": {"type": "array", "items": {"$ref": "#/definitions/node"}},
        "footer": {"type": "array", "items": {"$ref": "#/definitions/node"}},
        "floating": {"type": "array", "items": {"$ref": "#/definitions/node"}}
      },
      "additionalProperties": true
    },
    "pages": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["id", "sections"],
        "properties": {
          "id": {"type": "string"},
          "title": {"type": "string"},
          "sections": {
            "type": "array",
            "items": {
              "type": "object",
              "required": ["id", "nodes"],
              "properties": {
                "id": {"type": "string"},
                "nodes": {"type": "array", "items": {"$ref": "#/definitions/node"}}
              },
              "additionalProperties": true
            }
          }
        },
        "additionalProperties": true
      }
    }
  },
  "definitions": {
    "node": {
      "type": "object",
      "required": ["tag"],
      "properties": {
        "tag": {"type": "string"},
        "class": {"type": "string"},
        "text": {"type": "string"},
        "textKey": {"type": "string"},
        "attrs": {"type": "object", "additionalProperties": {"type": "string"}},
        "attrsI18n": {"type": "object", "additionalProperties": {"type": "string"}},
        "styles": {"type": "object", "additionalProperties": {"type": "string"}},
        "children": {"type": "array", "items": {"$ref": "#/definitions/node"}}
      },
      "additionalProperties": true
    }
  }
}
